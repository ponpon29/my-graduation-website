<div class="container py-5">
  <h3 class="mb-4 text-center">üîç „Åì„Å†„Çè„ÇäÊ§úÁ¥¢</h3>
  
  <%= search_form_for @q, url: search_filter_path, method: :get do |f| %>
    
    <div class="mb-5">
      <h5 class="mb-3">üìç Âú∞Âüü</h5>

      <%= f.select :address_cont, 
          options_for_select([
            ["„Åô„Åπ„Å¶", ""],
            ["Êù±‰∫¨", "Êù±‰∫¨"],
            ["Â§ßÈò™", "Â§ßÈò™"],
            ["Á¶èÂ≤°", "Á¶èÂ≤°"]
          ], params.dig(:q, :address_cont)),
          {},
          class: "form-select form-select-lg w-50" %>
    </div>

    <div class="mb-5">
      <h5 class="mb-3">üçú „É©„Éº„É°„É≥ÊøÉÂ∫¶</h5>
    
      <div class="form-check form-check-inline">
        <%= f.radio_button :density_eq, '', class: 'form-check-input', id: 'density_all', checked: true %>
        <%= f.label :density_eq, 'ÂÖ®„Å¶', class: 'form-check-label', for: 'density_all' %>
      </div>

      <div class="form-check form-check-inline">
        <%= f.radio_button :density_eq, 'rich', class: 'form-check-input', id: 'density_rich' %>
        <%= f.label :density_eq, '„Åì„Å£„Å¶„Çä', class: 'form-check-label', for: 'density_rich' %>
      </div>
    
      <div class="form-check form-check-inline">
        <%= f.radio_button :density_eq, 'normal', class: 'form-check-input', id: 'density_normal' %>
        <%= f.label :density_eq, 'ÊôÆÈÄö', class: 'form-check-label', for: 'density_normal' %>
      </div>
    
      <div class="form-check form-check-inline">
        <%= f.radio_button :density_eq, 'light', class: 'form-check-input', id: 'density_light' %>
        <%= f.label :density_eq, '„ÅÇ„Å£„Åï„Çä', class: 'form-check-label', for: 'density_light' %>
      </div>
    </div>

    <div class="mb-5">
      <h5 class="mb-3">‚≠ê Ë©ï‰æ°</h5>

      <div class="form-check form-check-inline">
        <%= f.radio_button :rating_gteq, '', class: 'form-check-input', id: 'rating_all', checked: true %>
        <%= f.label :rating_gteq, 'ÂÖ®„Å¶', class: 'form-check-label', for: 'rating_all' %>
      </div>

      <div class="form-check form-check-inline">
        <%= f.radio_button :rating_gteq, '4.5', class: 'form-check-input', id: 'rating_45' %>
        <%= f.label :rating_gteq, '4.5‰ª•‰∏ä', class: 'form-check-label', for: 'rating_45' %>
      </div>

      <div class="form-check form-check-inline">
        <%= f.radio_button :rating_gteq, '4.0', class: 'form-check-input', id: 'rating_40' %>
        <%= f.label :rating_gteq, '4.0‰ª•‰∏ä', class: 'form-check-label', for: 'rating_40' %>
      </div>

      <div class="form-check form-check-inline">
        <%= f.radio_button :rating_gteq, '3.5', class: 'form-check-input', id: 'rating_35' %>
        <%= f.label :rating_gteq, '3.5‰ª•‰∏ä', class: 'form-check-label', for: 'rating_35' %>
      </div>
    </div>

    <div class="mt-3 text-center">
      <%= f.submit 'Ê§úÁ¥¢', class: 'btn-ramen-hover' %>
    </div>
  <% end %>
</div>

<div class="row">
    <div class="col-12">
      <% if @shops.present? %>

        <div class="mb-3">
          <h5 class="d-flex align-items-center">
            <i class="fas fa-store me-2"></i>
            Ê§úÁ¥¢ÁµêÊûú:
            <span class="badge bg-primary ms-2"><%= @shops.total_count %>‰ª∂</span>
          </h5>
        </div>

        <div class="row">
          <% @shops.each do |shop| %>
            <div class="col-lg-4 col-md-6 col-12 mb-4">
              <%= render 'shop_card', shop: shop %>
            </div>
          <% end %>
        </div>

        <div class="d-flex justify-content-center mt-4">
          <%= paginate @shops, theme: 'bootstrap-5' %>
        </div>

      <% else %>
        <div class="text-muted mb-3 text-center">
          Ê§úÁ¥¢ÁµêÊûú„Åå„ÅÇ„Çä„Åæ„Åõ„Çì
        </div>
      <% end %>
    </div>
  </div>
</div>
