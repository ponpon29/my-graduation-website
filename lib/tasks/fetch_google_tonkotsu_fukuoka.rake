require Rails.root.join("lib/tasks/tonkotsu_helpers")
require Rails.root.join("lib/tasks/fetch_google_places_helpers")

namespace :fetch_google do
  desc "福岡県全域 とんこつ店収集"
  task fukuoka: :environment do
    api_key = ENV["PLACES_API_KEY"]

    keywords = ["ラーメン", "豚骨", "とんこつ", "博多ラーメン"]

    areas = {
      "博多駅前" => [33.5902, 130.4204], "祇園" => [33.5954, 130.4131],
      "中洲" => [33.5920, 130.4087], "住吉" => [33.5836, 130.4211],
      "美野島" => [33.5726, 130.4276], "吉塚" => [33.6100, 130.4250],
      "東比恵" => [33.5775, 130.4410], "千代" => [33.6040, 130.4170],
      "天神" => [33.5901, 130.4010], "大名" => [33.5860, 130.3930],
      "赤坂" => [33.5890, 130.3850], "薬院" => [33.5782, 130.4035],
      "平尾" => [33.5707, 130.4060],
      "小倉駅前" => [33.8860, 130.8820], "黒崎" => [33.8680, 130.7610],
      "久留米中心" => [33.3193, 130.5083], "六ツ門" => [33.3100, 130.5100],
      "大牟田中心" => [33.0283, 130.4462], "柳川中心" => [33.1631, 130.4057],
      "八女中心" => [33.2117, 130.5574], "筑後中心" => [33.2127, 130.4964],
      "宗像中心" => [33.8050, 130.5400], "福津中心" => [33.7650, 130.4886],
      "糸島中心" => [33.5744, 130.0560], "行橋中心" => [33.7258, 130.9781],
      "豊前中心" => [33.6114, 131.1389]
    }

    FetchGooglePlacesHelpers.run!(
      api_key: api_key,
      areas: areas,
      keywords: keywords,
      title: "福岡"
    )
  end
end