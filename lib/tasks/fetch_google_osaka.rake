require Rails.root.join("lib/tasks/tonkotsu_helpers")
require Rails.root.join("lib/tasks/fetch_google_places_helpers")

namespace :fetch_google do
  desc "大阪府全域 とんこつ店収集"
  task osaka: :environment do
    api_key = ENV["PLACES_API_KEY"]

    keywords = ["ラーメン", "豚骨", "とんこつ", "博多ラーメン"]

    areas = {
      "梅田" => [34.7025, 135.4959],
      "大阪駅" => [34.7025, 135.4959],
      "北新地" => [34.6990, 135.4982],
      "天満" => [34.7059, 135.5122],
      "京橋" => [34.6966, 135.5347],
      "本町" => [34.6826, 135.4991],
      "心斎橋" => [34.6739, 135.5016],
      "難波" => [34.6687, 135.5010],
      "日本橋" => [34.6663, 135.5060],
      "天王寺" => [34.6472, 135.5133],
      "阿倍野" => [34.6382, 135.5130],
      "鶴橋" => [34.6625, 135.5320],
      "西九条" => [34.6822, 135.4656],
      "弁天町" => [34.6684, 135.4600],
      "十三" => [34.7186, 135.4825],

      "豊中中心" => [34.7816, 135.4690],
      "吹田中心" => [34.7616, 135.5157],
      "江坂" => [34.7614, 135.4960],
      "茨木中心" => [34.8162, 135.5686],
      "高槻中心" => [34.8461, 135.6173],
      "箕面中心" => [34.8269, 135.4706],

      "東大阪中心" => [34.6794, 135.6008],
      "布施" => [34.6696, 135.5650],
      "枚方中心" => [34.8142, 135.6507],
      "寝屋川中心" => [34.7666, 135.6278],
      "守口中心" => [34.7373, 135.5647],
      "門真中心" => [34.7383, 135.5835],

      "堺東" => [34.5733, 135.4828],
      "堺中心" => [34.5733, 135.4828],
      "中百舌鳥" => [34.5554, 135.5030],
      "松原中心" => [34.5763, 135.5512],
      "羽曳野中心" => [34.5577, 135.6050],
      "富田林中心" => [34.5008, 135.6008],
      "河内長野中心" => [34.4585, 135.5727],

      "岸和田中心" => [34.4602, 135.3710],
      "泉佐野中心" => [34.4063, 135.3276],
      "貝塚中心" => [34.4520, 135.3583],
      "泉大津中心" => [34.5044, 135.4100],
      "和泉中心" => [34.4833, 135.4236],
      "高石中心" => [34.5252, 135.4422],

      "能勢中心" => [34.9762, 135.4147]
    }

    FetchGooglePlacesHelpers.run!(
      api_key: api_key,
      areas: areas,
      keywords: keywords,
      title: "大阪"
    )
  end
end
